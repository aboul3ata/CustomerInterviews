{"ast":null,"code":"var _jsxFileName = \"/Users/aliabouelatta/Dropbox/Cornell/Spring21/bss/p/interviews/frontend/src/Dashboard/Components/Ref.js\",\n    _s = $RefreshSig$();\n\nimport './c-dashboard.css';\nimport React, { useEffect, useState } from 'react';\nimport firebase from 'firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Ref() {\n  _s();\n\n  const [code, setCode] = useState('no-backend');\n  const [count, setCount] = useState(0); // function tt (){\n  //     setCode(3)\n  // }\n  //fetching as soon s it loads\n\n  useEffect(() => {\n    // setCode(2)\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        user.getIdToken().then(function (idToken) {\n          fetch('https://jrqdv94yq6.execute-api.us-east-1.amazonaws.com/dev/ref/', {}).then(response => response.json()).then(data => {\n            console.log(data);\n            setCode(data.ref_code);\n            setCount(data.count);\n          }).catch(error => {\n            console.error(error);\n          });\n        });\n      }\n    });\n  }, [code]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-calendly\",\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"s-font-header black\",\n      children: \"Want free interviews?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"s-font-main r black\",\n      children: [\" Referral count: \", count, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"s-font-main black\",\n      children: \"Get 1 interview for every new person creates an account using your link\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: `https://www.warminterviews.com/?ref=${code}`,\n      className: \"lg-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"c-button black\",\n      children: \"Copy Link\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Ref, \"aWzaNVGF3tseBl7n5ehnVSD8KE4=\");\n\n_c = Ref;\nexport default Ref;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ref\");","map":{"version":3,"sources":["/Users/aliabouelatta/Dropbox/Cornell/Spring21/bss/p/interviews/frontend/src/Dashboard/Components/Ref.js"],"names":["React","useEffect","useState","firebase","Ref","code","setCode","count","setCount","auth","onAuthStateChanged","user","getIdToken","then","idToken","fetch","response","json","data","console","log","ref_code","catch","error"],"mappings":";;;AAAA,OAAO,mBAAP;AACA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,OAAOC,QAAP,MAAqB,UAArB;;;AAIA,SAASC,GAAT,GAAe;AAAA;;AACX,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,YAAD,CAAhC;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,CAAD,CAAlC,CAFW,CAIX;AACA;AACA;AAEJ;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ;AACAE,IAAAA,QAAQ,CAACM,IAAT,GAAgBC,kBAAhB,CAAmC,UAASC,IAAT,EAAe;AAC9C,UAAIA,IAAJ,EAAU;AACRA,QAAAA,IAAI,CAACC,UAAL,GAAkBC,IAAlB,CAAuB,UAASC,OAAT,EAAkB;AACvCC,UAAAA,KAAK,CAAC,iEAAD,EAAoE,EAApE,CAAL,CACCF,IADD,CACMG,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECJ,IAFD,CAEMK,IAAI,IAAI;AACVC,YAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAZ,YAAAA,OAAO,CAACY,IAAI,CAACG,QAAN,CAAP;AACAb,YAAAA,QAAQ,CAACU,IAAI,CAACX,KAAN,CAAR;AACH,WAND,EAOCe,KAPD,CAOQC,KAAD,IAAW;AAClBJ,YAAAA,OAAO,CAACI,KAAR,CAAcA,KAAd;AACC,WATD;AAUD,SAXD;AAYD;AACF,KAfH;AAgBD,GAlBM,EAkBJ,CAAClB,IAAD,CAlBI,CAAT;AAoBI,sBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAG,MAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAG,MAAA,SAAS,EAAC,qBAAb;AAAA,sCAAqDE,KAArD;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI;AAAA;AAAA;AAAA;AAAA,YALJ,eAMI;AAAO,MAAA,KAAK,EAAG,uCAAsCF,IAAK,EAA1D;AAA6D,MAAA,SAAS,EAAC;AAAvE;AAAA;AAAA;AAAA;AAAA,YANJ,eAOI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAYD;;GAzCMD,G;;KAAAA,G;AA2CP,eAAeA,GAAf","sourcesContent":["import './c-dashboard.css'\nimport React, {useEffect, useState } from 'react';\nimport firebase from 'firebase';\n\n\n\nfunction Ref() {\n    const [code, setCode] = useState('no-backend');\n    const [count, setCount] = useState(0);\n\n    // function tt (){\n    //     setCode(3)\n    // }\n\n//fetching as soon s it loads\nuseEffect(() => {\n    // setCode(2)\n    firebase.auth().onAuthStateChanged(function(user) {\n        if (user) {\n          user.getIdToken().then(function(idToken) {  \n            fetch('https://jrqdv94yq6.execute-api.us-east-1.amazonaws.com/dev/ref/', {})\n            .then(response => response.json())\n            .then(data => {\n                console.log(data)\n                setCode(data.ref_code)\n                setCount(data.count)\n            })\n            .catch((error) => {\n            console.error(error);\n            })    \n          });\n        }\n      });\n  }, [code])\n\n    return (\n        <div className=\"container-calendly\">\n            <br></br>\n            <p className=\"s-font-header black\">Want free interviews?</p>\n            <p className=\"s-font-main r black\"> Referral count: {count} </p>\n            <p className=\"s-font-main black\">Get 1 interview for every new person creates an account using your link</p>\n            <br></br>\n            <input value={`https://www.warminterviews.com/?ref=${code}`} className=\"lg-input\"/>\n            <button className=\"c-button black\">Copy Link</button>\n        </div>\n\n    );\n  }\n  \n  export default Ref;"]},"metadata":{},"sourceType":"module"}